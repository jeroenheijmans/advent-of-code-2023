// Backup from CodePen.io
// Uses: https://cdnjs.cloudflare.com/ajax/libs/planck-js/0.2.7/planck.min.js
// Uses: https://cdnjs.cloudflare.com/ajax/libs/planck-js/0.2.7/planck-with-testbed.min.js

const { World, Vec2, Circle, Edge, Polygon, Testbed } = planck;

planck.testbed('InfiAoC2023', function(testbed) {
  const world = new World(new Vec2(0, -10));
  world.setGravity(new Vec2(0, 10))
  
  const ground = world.createBody();
  ground.createFixture(new Edge(new Vec2(-100.0, 25.0), new Vec2(100.0, 25.0)));
  
  function spawnPackage({x,y,r}, points) {
    const balloon = world.createDynamicBody(new Vec2(x/50, y/50))
    balloon.createFixture(new Circle(r/50), {
      denisity: 1.0,
    })
    
    // Alternative:
    // let body = world.createDynamicBody({ position: new Vec2(x/50, y/50) });
    // body.createFixture(new Polygon(points.map(p => ({x: p.x/50, y: p.y/50}))))
  }
  
  spawnPackage({"x":12,"y":-6.5,"r":119.16060590648236}, [{"x":44,"y":-28},{"x":-71,"y":-92},{"x":89,"y":60},{"x":95,"y":79}])
  spawnPackage({"x":-16,"y":15,"r":101.11874208078342}, [{"x":50,"y":-15},{"x":3,"y":-83},{"x":-88,"y":-56},{"x":56,"y":86},{"x":-1,"y":36},{"x":-19,"y":73}])
  spawnPackage({"x":-27,"y":10,"r":40.607881008493905}, [{"x":-17,"y":30},{"x":13,"y":17},{"x":-67,"y":3}])
  spawnPackage({"x":-5.5,"y":82,"r":94.85910604681028}, [{"x":88,"y":98},{"x":-99,"y":66},{"x":37,"y":2},{"x":-67,"y":91},{"x":10,"y":2}])
  spawnPackage({"x":40.450635751682874,"y":-10.56806282722513,"r":80.43319955059539}, [{"x":-1,"y":-77},{"x":-23,"y":-60},{"x":40,"y":-91},{"x":68,"y":65},{"x":98,"y":-35}])
  spawnPackage({"x":-13.123519087319,"y":32.15160157964019,"r":66.51279754581931}, [{"x":-56,"y":83},{"x":-34,"y":-31},{"x":23,"y":88},{"x":-2,"y":-5},{"x":-29,"y":26}])
  spawnPackage({"x":-0.5227272727272727,"y":-26.147727272727273,"r":64.55846239764978}, [{"x":-18,"y":36},{"x":52,"y":-16},{"x":36,"y":-20},{"x":9,"y":-90},{"x":64,"y":-24}])
  spawnPackage({"x":-7.5,"y":-0.5,"r":102.30591380756051}, [{"x":-68,"y":82},{"x":49,"y":44},{"x":-57,"y":89},{"x":3,"y":49},{"x":-32,"y":5},{"x":-69,"y":-18},{"x":53,"y":-83}])
  spawnPackage({"x":4.830102020873236,"y":-18.63305710823594,"r":104.34879134502705}, [{"x":-32,"y":79},{"x":-55,"y":-8},{"x":-86,"y":-70},{"x":77,"y":-94},{"x":41,"y":40}])
  spawnPackage({"x":8,"y":-26.5,"r":83.3261663584735}, [{"x":-44,"y":-27},{"x":-12,"y":-45},{"x":87,"y":0},{"x":-71,"y":-53},{"x":51,"y":-16}])
  spawnPackage({"x":19.5,"y":24,"r":99.48994924111682}, [{"x":79,"y":44},{"x":9,"y":92},{"x":21,"y":-42},{"x":86,"y":-50},{"x":-47,"y":98}])
  spawnPackage({"x":-16.711611434353657,"y":-12.178345560333923,"r":89.35947053952192}, [{"x":-64,"y":-88},{"x":30,"y":64},{"x":-29,"y":-39},{"x":66,"y":-46}])
  spawnPackage({"x":-22.306665033080126,"y":-27.695540308747855,"r":98.28666782380859}, [{"x":-92,"y":-97},{"x":55,"y":33},{"x":-70,"y":-39},{"x":-88,"y":17},{"x":31,"y":-47},{"x":6,"y":-34},{"x":-85,"y":48}])
  spawnPackage({"x":3.822542050812865,"y":0.817826729537617,"r":82.23062900820416}, [{"x":1,"y":83},{"x":-78,"y":9},{"x":19,"y":-80}])
  spawnPackage({"x":5.82763099537477,"y":-53.96429702844833,"r":84.768526222791}, [{"x":-14,"y":-11},{"x":90,"y":-64},{"x":-25,"y":25},{"x":-77,"y":-72},{"x":67,"y":-19}])
  spawnPackage({"x":17.5,"y":17,"r":91.36328584283733}, [{"x":9,"y":10},{"x":75,"y":88},{"x":76,"y":61},{"x":-40,"y":-54},{"x":-31,"y":19}])
  spawnPackage({"x":-24.5,"y":21.080882352941178,"r":79.64696412856044}, [{"x":-8,"y":99},{"x":-79,"y":-37},{"x":30,"y":-37}])
  spawnPackage({"x":16,"y":21,"r":100.12492197250393}, [{"x":-61,"y":-43},{"x":35,"y":55},{"x":17,"y":16},{"x":-34,"y":42},{"x":93,"y":85}])
  spawnPackage({"x":3.5,"y":-35,"r":78.12329998150359}, [{"x":-6,"y":2},{"x":-14,"y":-76},{"x":70,"y":6},{"x":-63,"y":-76},{"x":12,"y":-93}])
  spawnPackage({"x":38.5,"y":6,"r":105.05831713862544}, [{"x":-52,"y":-27},{"x":50,"y":71},{"x":-14,"y":97},{"x":91,"y":-85}])
  spawnPackage({"x":9.5,"y":59.5,"r":85.50146197580483}, [{"x":95,"y":59},{"x":40,"y":28},{"x":-76,"y":60}])
  spawnPackage({"x":7.638992386197959,"y":-3.7110805119066903,"r":93.15022886409392}, [{"x":93,"y":-41},{"x":22,"y":-67},{"x":68,"y":-26},{"x":59,"y":74},{"x":-84,"y":13},{"x":-33,"y":-71}])
  spawnPackage({"x":2,"y":-43,"r":90.4267659490264}, [{"x":-74,"y":6},{"x":51,"y":-20},{"x":78,"y":-92},{"x":-38,"y":-96},{"x":46,"y":-71}])
  spawnPackage({"x":54,"y":-11,"r":89.05054744357274}, [{"x":51,"y":78},{"x":73,"y":-9},{"x":35,"y":62},{"x":57,"y":-100}])
  spawnPackage({"x":58,"y":17,"r":73.24616030891995}, [{"x":52,"y":-56},{"x":64,"y":90},{"x":73,"y":-8}])
  
  return world
});